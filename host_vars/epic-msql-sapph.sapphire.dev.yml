volumes:
  disk1:
    DriveLetter: G
    FSLabel: Data
  disk2:
    DriveLetter: H
    FSLabel: Log
  disk3:
    DriveLetter: T
    FSLabel: TempDB
  disk4:
    DriveLetter: S
    FSLabel: SQL_Server

sql_install_source_dir: files
sql_install_iso: SQLServer2022-x64-ENU-Dev.iso
# sql_install_source_dir: files
# sql_install_iso: SQLEXPRADV_x64_ENU.exe
dsc_sqltempdbdir: 'T:\TempDB'
dsc_sqltempdblogdir: 'T:\TempDB'
dsc_installsqldatadir: 'S:\SQL Server Data'
dsc_instancename: MSSQLSERVER
dsc_sqlbackupdir: 'S:\SQL Server Backups'
dsc_sqluserdbdir: 'G:\Data'
dsc_sqluserdblogdir: 'H:\Log'
dsc_sqlsysadminaccounts: # The SQL setup requires at least one system administrator account
  - sapphire\epicadmin
  # - .\ssm-user
# dsc_features: SQL
smss_install_source_dir: https://download.microsoft.com/download/9/b/e/9bee9f00-2ee2-429a-9462-c9bc1ce14c28
smss_install_file: SSMS-Setup-ENU.exe
ssms_product_id: "{98566bce-3110-4bc9-b372-a014a6eb5b58}"
# sql_sa_password: # can be defined as env var SQL_SA_PASSWORD=''
user_sqlengine: sapphire\admin

service_username: sapphire\kuiper-gmsa$

# Create Databases
sql_databases:
  - name: 'Kuiper'
    db_size: 4096 MB
    db_max_size: 10240 MB
    db_growth: 256 MB
    log_size: 1024 MB
    log_max_size: 10240 MB
    log_growth: 500 MB
    # collation: 'SQL_Latin1_General_CP1_CI_AS'
    # recovery_model: 'FULL'
    # log_path: 'H:\LOG'
    # data_path: 'G:\DATA'
    roles:
      - name: db_owner
        members:
          - sapphire\epicadmin # required while running the Kuiper install for SQL test to succeed
          - sapphire\kuiper-gmsa$
      - name: db_ddladmin
        members:
          - sapphire\kuiper-gmsa$
      - name: db_datawriter
        members:
          - sapphire\kuiper-gmsa$
      - name: db_datareader
        members:
          - sapphire\kuiper-gmsa$
    users:
      - sapphire\epicadmin # required while running the Kuiper install for SQL test to succeed
      - sapphire\kuiper-gmsa$
  - name: 'SystemPulse'
    db_size: 4096 MB
    db_max_size: 10240 MB
    db_growth: 256 MB
    log_size: 1024 MB
    log_max_size: 10240 MB
    log_growth: 500 MB
    # collation: 'SQL_Latin1_General_CP1_CI_AS'
    # recovery_model: 'FULL'
    # log_path: 'H:\LOG'
    # data_path: 'G:\DATA'
    roles:
      - name: db_owner
        members:
          - spadmin
      - name: db_datawriter
        members:
          - spuser
      - name: db_datareader
        members:
          - spuser
      - name: sp_user
        members:
          - spuser
    users:
      # - sapphire\epicadmin
      - spadmin
      - spuser

# Local SQL accounts
# SPAdmin
# SPUser
